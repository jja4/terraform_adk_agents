# Example Outputs

This directory contains working examples demonstrating the modular Terraform structure generated by the system.

## Simple Web Application

**User Input:**
```
Create a web application with Cloud Run service for the backend API, 
Cloud SQL PostgreSQL database for application data, and Cloud Storage 
for user uploads.
```

**Directory:** `simple-web-app/`

### Structure
```
simple-web-app/
├── modules/                    # Reusable components
│   ├── vpc/                   # VPC network + connector
│   ├── cloud_run/             # Cloud Run service
│   └── cloud_sql/             # PostgreSQL database
│
├── environments/prod/          # Production configuration
│   ├── provider.tf
│   ├── main.tf               # Calls modules + IAM/Storage
│   ├── variables.tf
│   ├── outputs.tf
│   └── terraform.tfvars.example
```

### Components
- **VPC Module**: Network + VPC connector for Cloud Run
- **Cloud Run Module**: Containerized app (1 vCPU, 512Mi, autoscaling 0-10)
- **Cloud SQL Module**: PostgreSQL 15 (db-f1-micro, private IP, backups)
- **Additional Resources**: Cloud Storage bucket, IAM service account

### Deploy This Example

```bash
cd simple-web-app/environments/prod

# Configure
cp terraform.tfvars.example terraform.tfvars
# Edit terraform.tfvars with your GCP project ID and database password

# Deploy
terraform init
terraform plan
terraform apply
```

### Add More Environments

```bash
cp -r environments/prod environments/staging
cd environments/staging
# Edit terraform.tfvars
terraform init && terraform apply
```

Modules stay the same - only environment configs change!

## Generate Your Own

```bash
# Install
uv sync

# Run
uv run src/demo.py

# Output appears in ./output/demo_TIMESTAMP/
```
